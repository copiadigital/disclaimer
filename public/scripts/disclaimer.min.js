!function(e){function t(e,t,o){let a="";if(o){const e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3),a="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+a+"; path=/; samesite=strict;"}function o(e){let t=e+"=",o=decodeURIComponent(document.cookie).split(";");for(var a=0;a<o.length;a++){let e=o[a];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return""}e((()=>{e(".disclaimer__form #countries").on("change",(function(){let t=e("option:selected").val(),o=e(".country-content"),a=e(".allowed-countries"),i=e("#user-types"),d=i.find("option");e(this).find("option:selected").each((function(){i.prop("selectedIndex",0),t&&(o.hasClass(t)?(o.not("."+t).hide(),e("."+t).show()):o.not("."+t).hide(),a.hasClass(t)?(e('.disclaimer-modal-footer button[name="not-allowed"]').hide(),e('.disclaimer-modal-footer button[name="accept"]').show(),void 0!==e(".disclaimer__form #user-types option:selected").data("user-allowed")&&(0!==e(".disclaimer__form #user-types option:selected").data("user-allowed")||a.hasClass(t)?(e('.disclaimer-modal-footer button[name="not-allowed"]').hide(),e('.disclaimer-modal-footer button[name="accept"]').show()):(e('.disclaimer-modal-footer button[name="accept"]').hide(),e('.disclaimer-modal-footer button[name="not-allowed"]').show()))):(e('.disclaimer-modal-footer button[name="accept"]').hide(),e('.disclaimer-modal-footer button[name="not-allowed"]').show(),void 0!==e(".disclaimer-disclaimer__form #user-types option:selected").data("user-allowed")&&(0!==e(".disclaimer-disclaimer__form #user-types option:selected").data("user-allowed")&&a.hasClass(t)?(e('.disclaimer-modal-footer button[name="not-allowed"]').hide(),e('.disclaimer-modal-footer button[name="accept"]').show()):(e('.disclaimer-modal-footer button[name="accept"]').hide(),e('.disclaimer-modal-footer button[name="not-allowed"]').show())))),d.each((function(){if(void 0!==e(this).data("selected-countries")){const o=e(this).attr("data-selected-countries").split("|"),a=e(this).attr("data-selected-countries");o.includes(t)?(i.show().attr("required",!0),i.find('option[data-selected-countries="'+a+'"]').show()):"all"!==a?(i.hide().removeAttr("required"),i.find('option[data-selected-countries="'+a+'"]').hide()):(i.show().attr("required",!0),i.find('option[data-selected-countries="'+a+'"]').show())}}))}))})),e(".disclaimer__form #user-types").on("change",(function(){let t=e(".allowed-countries");e(this).find("option:selected").each((function(){void 0!==e(this).data("user-allowed")&&(0===e(this).data("user-allowed")?(e('.disclaimer-modal-footer button[name="accept"]').hide(),e('.disclaimer-modal-footer button[name="not-allowed"]').show(),t.hasClass(e(".disclaimer__form #countries option:selected").val())&&0!==e(this).data("user-allowed")?(e('.disclaimer-modal-footer button[name="not-allowed"]').hide(),e('.disclaimer-modal-footer button[name="accept"]').show()):(e('.disclaimer-modal-footer button[name="accept"]').hide(),e('.disclaimer-modal-footer button[name="not-allowed"]').show())):(e('.disclaimer-modal-footer button[name="not-allowed"]').hide(),e('.disclaimer-modal-footer button[name="accept"]').show(),e(".disclaimer-disclaimer__form #countries option:selected").hasClass("default")||(t.hasClass(e(".disclaimer__form #countries option:selected").val())||0===e(this).data("user-allowed")?(e('.disclaimer-modal-footer button[name="not-allowed"]').hide(),e('.disclaimer-modal-footer button[name="accept"]').show()):(e('.disclaimer-modal-footer button[name="accept"]').hide(),e('.disclaimer-modal-footer button[name="not-allowed"]').show()))))}))}));const a=e('.disclaimer__form button[name="decline"]'),i=e('.disclaimer__form button[name="not-allowed"]');a.on("click",(function(){t("disclaimer","declined",1),window.location=e(".deny-url").data("deny-page")})),i.on("click",(function(o){!1===e(".disclaimer__form")[0].checkValidity()?(o.preventDefault(),o.stopPropagation()):(t("disclaimer","declined",1),window.location=e(".deny-url").data("deny-page")),e(".disclaimer__form").addClass("was-validated")}));const d=o("disclaimer");let s="disclaimer-country-"+o("countryCode");""===d?(e("#disclaimerModal").addClass("show"),e(".disclaimer").addClass("show"),e("body").removeClass("disclaimer-accepted disclaimer-declined "+s)):"accepted"===d?(e(".disclaimer").addClass("hide"),e("body").addClass("disclaimer-accepted "+s).removeClass("disclaimer-declined")):"declined"===d&&(e("#disclaimerModal").addClass("show"),e(".disclaimer").addClass("show"),e("body").addClass("disclaimer-declined").removeClass("disclaimer-accepted "+s))})),window.addEventListener("load",(function(){const o=document.getElementsByClassName("disclaimer__form");Array.prototype.filter.call(o,(function(o){o.addEventListener("submit",(function(a){!1===o.checkValidity()?(a.preventDefault(),a.stopPropagation(),e(".disclaimer-modal-footer p").show()):e('button[name="accept"]').on("click")&&!0===o.checkValidity()?(t("disclaimer","accepted",1),function(e,t,o){let a="";const i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),a="; expires="+i.toUTCString(),document.cookie=e+"="+(t||"")+a+"; path=/; samesite=strict;"}("countryCode",e("#countries").val(),1),function(e,t,o){let a="";const i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),a="; expires="+i.toUTCString(),document.cookie=e+"="+(t||"")+a+"; path=/; samesite=strict;"}("userType",e("#user-types").val(),1)):e('button[name="decline"]').on("click")&&!0===o.checkValidity()&&(t("disclaimer","declined",1),window.location=e(".deny-url").data("deny-page")),o.classList.add("was-validated")}),!1)}))}),!1)}(jQuery);
